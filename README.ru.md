# CLOU CL7206C2 UHF RFID –†–∏–¥–µ—Ä ‚Äî –ü–æ–ª–Ω—ã–π —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

> [üá¨üáß English](README.md) | üá∑üá∫ **–†—É—Å—Å–∫–∏–π**

> **100% —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –ø—Ä–æ—à–∏–≤–∫–∏** CLOU (Hopeland) CL7206C2 ‚Äî 8-–ø–æ—Ä—Ç–æ–≤—ã–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–π UHF RFID —Ä–∏–¥–µ—Ä.
> –ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω. 80 —Ñ—É–Ω–∫—Ü–∏–π –¥–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã. SDK –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ **—Å–∏—Å—Ç–µ–º—ã —Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂–∞ –¥–ª—è –≤–µ–ª–æ–≥–æ–Ω–æ–∫** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∏–¥–µ—Ä–∞ + UHF –∞–Ω—Ç–µ–Ω–Ω + RFID –º–µ—Ç–æ–∫ –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∏—Å—Ç–∞—Ö.
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏–¥–µ—Ä–æ–º –±–µ–∑ –ü–û –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è.

---

## üì¶ –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–ú–æ–¥–µ–ª—å** | CLOU CL7206C2 / CL7206C4 (Hopeland Technologies, –®—ç–Ω—å—á–∂—ç–Ω—å) |
| **–°–µ–º–µ–π—Å—Ç–≤–æ** | CL7206C ‚Äî C2 (8 –ø–æ—Ä—Ç–æ–≤ —á–µ—Ä–µ–∑ 4RF√ó2MUX) / C4 (4 –ø–æ—Ä—Ç–∞). –û–¥–Ω–∞ –ø—Ä–æ—à–∏–≤–∫–∞ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª. |
| **FCC ID** | 2AKAGCLOUIOTCL7206C |
| **–ü—Ä–æ—à–∏–≤–∫–∞** | CL7206C_20170602 (HW v0.1, FW v0.19) |
| **CPU** | ARM (Linux 2.6.39+, BusyBox v1.6.0) |
| **–¢—É–ª—á–µ–π–Ω** | GCC 4.0.0 (DENX ELDK 4.1) |
| **RF –ø–æ—Ä—Ç–æ–≤** | 4 RF √ó 2 MUX = **8 –∞–Ω—Ç–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤** (C2) / 4 –ø–æ—Ä—Ç–∞ (C4) |
| **–ú–∞–∫—Å. –º–æ—â–Ω–æ—Å—Ç—å** | 33 –¥–ë–º (¬±1 –¥–ë) –Ω–∞ –ø–æ—Ä—Ç, —à–∞–≥ 1 –¥–ë |
| **–ß–∞—Å—Ç–æ—Ç—ã** | CN 840‚Äì845 + 920‚Äì925 –ú–ì—Ü / FCC 902‚Äì928 –ú–ì—Ü / ETSI 865‚Äì868 –ú–ì—Ü |
| **–ü—Ä–æ—Ç–æ–∫–æ–ª** | ISO 18000-6C (EPC Gen2) / ISO 18000-6B |
| **–î–∞–ª—å–Ω–æ—Å—Ç—å** | 0‚Äì8 –º (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–µ—Ç–∫–∏/–∞–Ω—Ç–µ–Ω–Ω—ã/—Å—Ä–µ–¥—ã) |
| **–®–∏—Ä–∏–Ω–∞ –∫–∞–Ω–∞–ª–∞** | <200 –∫–ì—Ü |
| **I/O** | 4√ó GPI (–æ–ø—Ç—Ä–æ–Ω, DC 0‚Äì12–í, >9–í=HIGH / <8–í=LOW) |
| **–†–µ–ª–µ** | 4√ó GPO (DC –º–∞–∫—Å. 30–í/2–ê, AC –º–∞–∫—Å. 125–í/0.3–ê, –ø–æ —É–º–æ–ª—á. —Ä–∞–∑–æ–º–∫–Ω—É—Ç–æ) |
| **Wiegand** | WG0 + WG1 –≤—ã—Ö–æ–¥ (—Ñ–æ—Ä–º–∞—Ç—ã 26/34/66 –±–∏—Ç), –ø–æ —É–º–æ–ª—á. –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** | Ethernet 10/100–ú, RS-232, RS-485, USB Device, USB Host |
| **RS-232 —Å–∫–æ—Ä–æ—Å—Ç—å** | 115200 (–ø–æ —É–º–æ–ª—á.), 19200, 9600 –±–æ–¥ |
| **RS-485 —Å–∫–æ—Ä–æ—Å—Ç—å** | 115200 (–ø–æ —É–º–æ–ª—á.), 19200, 9600 –±–æ–¥ |
| **–ü–∏—Ç–∞–Ω–∏–µ** | DC 10‚Äì30–í (–º–∏–Ω. 60–í—Ç), –∞–¥–∞–ø—Ç–µ—Ä: AC 100‚Äì240–í 50/60–ì—Ü ‚Üí DC 24–í/2.5–ê |
| **–ó–∞—â–∏—Ç–∞** | IP54, —Ä–∞–±–æ—á–∞—è ‚àí20¬∞C‚Ä¶+70¬∞C, —Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚àí40¬∞C‚Ä¶+85¬∞C |
| **–†–∞–∑–º–µ—Ä—ã** | 256 √ó 147.6 √ó 43.47 –º–º, 1.41 –∫–≥ |
| **–†–∞–∑—ä—ë–º—ã** | 4√ó TNC (–æ–±—Ä–∞—Ç–Ω–∞—è –ø–æ–ª—è—Ä–Ω–æ—Å—Ç—å, –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∑—å–±–∞, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–∏–Ω) |
| **RF –∫–∞–±–µ–ª—å** | –ú–∞–∫—Å. 5–º, 50–û–º, –ø–æ—Ç–µ—Ä–∏ <2–¥–ë, –∞–¥–∞–ø—Ç–µ—Ä—ã TNC‚ÜîSMA |
| **–°–µ—Ç–µ–≤–æ–π –∫–∞–±–µ–ª—å** | –ú–∞–∫—Å. 80–º (–Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä/—Ä–æ—É—Ç–µ—Ä) |
| **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π** | –ú–∞–∫—Å. 10–º (RS-232 DB9) |
| **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏** | ~20 —Å–µ–∫—É–Ω–¥ |

### –†–∞—Å–ø–∏–Ω–æ–≤–∫–∞ –∫–ª–µ–º–º–Ω–æ–π –∫–æ–ª–æ–¥–∫–∏ I/O

```
R1 L1 R2 L2 R3 L3 R4 L4 GND GND ‚îÇ IN1 IN2 IN3 IN4 IN_GND ‚îÇ WG0 WG1 GND ‚îÇ 485-A 485-B
‚îî‚îÄ‚îÄ‚îÄ‚îÄ 4√ó –†–µ–ª–µ–π–Ω—ã–µ –≤—ã—Ö–æ–¥—ã ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ 4√ó –û–ø—Ç—Ä–æ–Ω–Ω—ã–µ –≤—Ö–æ–¥—ã ‚îÄ‚îÄ‚îò ‚îî‚îÄ Wiegand ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ RS485 ‚îÄ‚îÄ‚îò
```

> R1/L1 ‚Äî –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Ä–µ–ª–µ 1 (–Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–∑–æ–º–∫–Ω—É—Ç–æ–µ). –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ R2/L2, R3/L3, R4/L4.
> IN_GND ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–µ–º–ª—è –æ–ø—Ç—Ä–æ–Ω–æ–≤, –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å –∑–µ–º–ª—ë–π —Ä–µ–ª–µ/—Å–∏–≥–Ω–∞–ª–∞.

---

## üîå –°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| IP-–∞–¥—Ä–µ—Å | **192.168.1.116** |
| –ú–∞—Å–∫–∞ | 255.255.255.0 |
| –®–ª—é–∑ | 192.168.1.1 |
| TCP –ø–æ—Ä—Ç | **9090** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + –¥–∞–Ω–Ω—ã–µ) |
| UDP –ø–æ—Ä—Ç | **9090** (–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ) |
| Telnet | –ü–æ—Ä—Ç 23, –ª–æ–≥–∏–Ω: `root` / –±–µ–∑ –ø–∞—Ä–æ–ª—è |
| DHCP | –í—ã–∫–ª. (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| –ú–∞–∫—Å. TCP –∫–ª–∏–µ–Ω—Ç–æ–≤ | 2 (–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ) |

> –ó–∞–±—ã–ª–∏ IP? –°–±—Ä–æ—Å—å—Ç–µ —á–µ—Ä–µ–∑ RS-232 –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `cl7206c2_tool.py discover`.

---

## üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### `tools/cl7206c2_client.py` ‚Äî –ü–æ–ª–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (1118 —Å—Ç—Ä–æ–∫)

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç. –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞ –ø—Ä–æ—à–∏–≤–∫–∏.

```bash
# === GET –∫–æ–º–∞–Ω–¥—ã (—á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏) ===
python3 cl7206c2_client.py 192.168.1.116 info          # –ú–æ–¥–µ–ª—å, –ø—Ä–æ—à–∏–≤–∫–∞, –∞–ø—Ç–∞–π–º
python3 cl7206c2_client.py 192.168.1.116 network       # IP / –ú–∞—Å–∫–∞ / –®–ª—é–∑
python3 cl7206c2_client.py 192.168.1.116 mac           # MAC-–∞–¥—Ä–µ—Å
python3 cl7206c2_client.py 192.168.1.116 time          # –°–∏—Å—Ç–µ–º–Ω—ã–µ —á–∞—Å—ã (—Å–µ–∫ + –º–∫—Å)
python3 cl7206c2_client.py 192.168.1.116 gpi           # –£—Ä–æ–≤–Ω–∏ 4 —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤—Ö–æ–¥–æ–≤
python3 cl7206c2_client.py 192.168.1.116 relay         # –ö–æ–Ω—Ñ–∏–≥ —Ä–µ–ª–µ (–Ω–æ–º–µ—Ä + –≤—Ä–µ–º—è)
python3 cl7206c2_client.py 192.168.1.116 rs485         # RS485 –∞–¥—Ä–µ—Å –∏ —Ä–µ–∂–∏–º
python3 cl7206c2_client.py 192.168.1.116 tagcache      # –ö—ç—à –º–µ—Ç–æ–∫ –≤–∫–ª/–≤—ã–∫–ª
python3 cl7206c2_client.py 192.168.1.116 tagtime       # –í—Ä–µ–º—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
python3 cl7206c2_client.py 192.168.1.116 ping          # –ö–æ–Ω—Ñ–∏–≥ watchdog-–ø–∏–Ω–≥–∞
python3 cl7206c2_client.py 192.168.1.116 wiegand       # –ö–æ–Ω—Ñ–∏–≥ Wiegand –≤—ã—Ö–æ–¥–∞
python3 cl7206c2_client.py 192.168.1.116 server        # –†–µ–∂–∏–º —Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç
python3 cl7206c2_client.py 192.168.1.116 com           # –ö–æ–Ω—Ñ–∏–≥ COM/baud
python3 cl7206c2_client.py 192.168.1.116 antennaall    # –í—Å–µ 4 –∞–Ω—Ç–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–∞
python3 cl7206c2_client.py 192.168.1.116 triggerall    # –í—Å–µ 4 —Ç—Ä–∏–≥–≥–µ—Ä–∞

# === SET –∫–æ–º–∞–Ω–¥—ã (–∑–∞–ø–∏—Å—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏) ===
python3 cl7206c2_client.py 192.168.1.116 settime now            # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–∞—Å–æ–≤
python3 cl7206c2_client.py 192.168.1.116 setpower 0 30          # –ü–æ—Ä—Ç 0 = 30 –¥–ë–º
python3 cl7206c2_client.py 192.168.1.116 setantenna 0 30 2 0 4  # –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω—Ç–µ–Ω–Ω—ã
python3 cl7206c2_client.py 192.168.1.116 setip 192.168.1.200 255.255.255.0 192.168.1.1
python3 cl7206c2_client.py 192.168.1.116 setmac AA:BB:CC:DD:EE:FF
python3 cl7206c2_client.py 192.168.1.116 setrelay 1 500         # –†–µ–ª–µ 1, 500–º—Å –≤–∫–ª—é—á–µ–Ω–∏–µ
python3 cl7206c2_client.py 192.168.1.116 settrigger 0 1 6 3000  # GPI-0: —Å—Ç–∞—Ä—Ç –ø–æ —Ñ—Ä–æ–Ω—Ç—É, –∞–≤—Ç–æ-—Å—Ç–æ–ø 30—Å

# === –†–∞–±–æ—Ç–∞ —Å –º–µ—Ç–∫–∞–º–∏ ===
python3 cl7206c2_client.py 192.168.1.116 inventory     # –ü–æ—Ç–æ–∫–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ (Ctrl+C –¥–ª—è —Å—Ç–æ–ø–∞)
python3 cl7206c2_client.py 192.168.1.116 monitor       # –ü–∞—Å—Å–∏–≤–Ω—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å –ø–∞–∫–µ—Ç–æ–≤
python3 cl7206c2_client.py 192.168.1.116 tags          # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
python3 cl7206c2_client.py 192.168.1.116 cleartags     # –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –º–µ—Ç–æ–∫

# === –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã ===
python3 cl7206c2_client.py 192.168.1.116 reboot        # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (‚ö†Ô∏è)
python3 cl7206c2_client.py 192.168.1.116 reset         # –°–±—Ä–æ—Å –∫ –∑–∞–≤–æ–¥—Å–∫–∏–º (‚ö†Ô∏è)
```

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: Python 3.6+, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### `tools/cl7206c2_tool.py` ‚Äî UDP –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
python3 cl7206c2_tool.py discover                       # –ü–æ–∏—Å–∫ —Ä–∏–¥–µ—Ä–æ–≤ –≤ —Å–µ—Ç–∏
python3 cl7206c2_tool.py info 192.168.1.116              # –ó–∞–ø—Ä–æ—Å –ø–æ UDP
python3 cl7206c2_tool.py dump-config config_pram         # –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª–∞
```

---

## üì° –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

### –§–æ—Ä–º–∞—Ç –ø–∞–∫–µ—Ç–∞

```
 –ë–∞–π—Ç:  0      1     2     3       4       5..N      N+1     N+2
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ 0xAA ‚îÇ CMD ‚îÇ SUB ‚îÇ LEN_H ‚îÇ LEN_L ‚îÇ DATA... ‚îÇ CRC_H ‚îÇ CRC_L ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                |<========== CRC –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —ç—Ç–æ ===========>|
```

### CRC16 (–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ –ø—Ä–æ—à–∏–≤–∫–∏ @ 0x00020fe4)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–ü–æ–ª–∏–Ω–æ–º** | **0x8005** (CRC-16/BUYPASS) |
| **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** | 0x0000, –±–µ–∑ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è, MSB-first |
| **–ü–æ–∫—Ä—ã—Ç–∏–µ** | CMD + SUB + LEN + DATA (–∑–∞–≥–æ–ª–æ–≤–æ–∫ 0xAA –∏—Å–∫–ª—é—á—ë–Ω) |

### –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ –∫–æ–º–∞–Ω–¥ (CMD=0x01)

| SUB | –¢–∏–ø | –§—É–Ω–∫—Ü–∏—è | –ö–æ–º–∞–Ω–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞ |
|-----|-----|---------|-----------------|
| 0x00 | R | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∏–¥–µ—Ä–µ (–º–æ–¥–µ–ª—å, –∏–º—è, –∞–ø—Ç–∞–π–º) | `info` |
| 0x02 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å COM/Baud | ‚Äî |
| 0x03 | R | –ü–æ–ª—É—á–∏—Ç—å COM/Baud | `com` |
| 0x04 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å IP/–ú–∞—Å–∫—É/–®–ª—é–∑ | `setip` |
| 0x05 | R | –ü–æ–ª—É—á–∏—Ç—å IP/–ú–∞—Å–∫—É/–®–ª—é–∑ | `network` |
| 0x06 | R | –ü–æ–ª—É—á–∏—Ç—å MAC | `mac` |
| 0x07 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∂–∏–º —Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç | ‚Äî |
| 0x08 | R | –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º —Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç | `server` |
| 0x09 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å GPO –≤—ã—Ö–æ–¥—ã | ‚Äî |
| 0x0A | R | –ü–æ–ª—É—á–∏—Ç—å —É—Ä–æ–≤–Ω–∏ GPI (–≤—Å–µ 4) | `gpi` |
| 0x0B | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω—Ç–µ–Ω–Ω—É/—Ç—Ä–∏–≥–≥–µ—Ä | `setantenna`, `settrigger` |
| 0x0C | R | –ü–æ–ª—É—á–∏—Ç—å –∞–Ω—Ç–µ–Ω–Ω—É/—Ç—Ä–∏–≥–≥–µ—Ä | `antenna`, `trigger` |
| 0x0D | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Wiegand | `setwiegand` |
| 0x0E | R | –ü–æ–ª—É—á–∏—Ç—å Wiegand | `wiegand` |
| 0x0F | X | **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞** (+ —Å–±—Ä–æ—Å RF) | `reboot` |
| 0x10 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è | `settime` |
| 0x11 | R | –ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è (—Å–µ–∫ + –º–∫—Å) | `time` |
| 0x12 | ‚Äî | ACK —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (keepalive) | ‚Äî |
| 0x13 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MAC | `setmac` |
| 0x14 | X | **–°–±—Ä–æ—Å –∫ –∑–∞–≤–æ–¥—Å–∫–∏–º** | `reset` |
| 0x15 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å RS485 | `setrs485` |
| 0x16 | R | –ü–æ–ª—É—á–∏—Ç—å RS485 (–∞–¥—Ä–µ—Å + —Ä–µ–∂–∏–º) | `rs485` |
| 0x17 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫—ç—à –º–µ—Ç–æ–∫ | `settagcache` |
| 0x18 | R | –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫—ç—à–∞ | `tagcache` |
| 0x19 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –∫—ç—à–∞ | `settagtime` |
| 0x1A | R | –ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è –∫—ç—à–∞ | `tagtime` |
| 0x1B | R | –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) | `tags` |
| 0x1C | X | –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –º–µ—Ç–∫–∏ | `cleartags` |
| 0x1D | X | –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–∫—É –ø–æ –∏–Ω–¥–µ–∫—Å—É | ‚Äî |
| 0x20 | R | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞ | ‚Äî |
| 0x21 | W | –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ | ‚Äî |
| 0x23 | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Ä–µ–ª–µ | `setrelay` |
| 0x24 | R | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Ä–µ–ª–µ | `relay` |
| 0x2D | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –ø–∏–Ω–≥–∞ | `setping` |
| 0x2E | R | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –ø–∏–Ω–≥–∞ | `ping` |
| 0x2F | W | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∂–∏–º DHCP | ‚Äî |
| 0x30 | R | –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º DHCP | ‚Äî |

### RF –∫–æ–º–∞–Ω–¥—ã

| CMD | SUB | –§—É–Ω–∫—Ü–∏—è |
|-----|-----|---------|
| 0x02 | 0x10 | **–°—Ç–∞—Ä—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏** |
| 0x02 | 0x40 | **–°—Ç–∞—Ä—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏** (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π) |
| 0x02 | 0xFF | **–°—Ç–æ–ø –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏** |
| 0x12 | 0x00 | **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –º–µ—Ç–∫–µ** (—Ç–æ–ª—å–∫–æ EPC) |
| 0x12 | 0x20 | **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –º–µ—Ç–∫–µ** (EPC + –¥–æ–ø. –¥–∞–Ω–Ω—ã–µ) |
| 0x12 | 0x30 | **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –º–µ—Ç–∫–µ** (EPC + TID) |

---

## üìª –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ 8 –∞–Ω—Ç–µ–Ω–Ω

```
RF –ü–æ—Ä—Ç 0 ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ MUX=0 ‚Üí ANT1     RF –ü–æ—Ä—Ç 2 ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ MUX=0 ‚Üí ANT5
              ‚îî‚îÄ‚îÄ MUX=1 ‚Üí ANT2                   ‚îî‚îÄ‚îÄ MUX=1 ‚Üí ANT6
RF –ü–æ—Ä—Ç 1 ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ MUX=0 ‚Üí ANT3     RF –ü–æ—Ä—Ç 3 ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ MUX=0 ‚Üí ANT7
              ‚îî‚îÄ‚îÄ MUX=1 ‚Üí ANT4                   ‚îî‚îÄ‚îÄ MUX=1 ‚Üí ANT8
```

–§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–Ω—Ç–µ–Ω–Ω–∞ = `ant_num √ó 2 + sub_ant_num + 1` (1‚Äì8)

> CL7206C4 –∏–º–µ–µ—Ç 4 —Ä–∞–∑—ä—ë–º–∞ TNC = 4 –∞–Ω—Ç–µ–Ω–Ω—ã –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ MUX-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è).

---

## üè∑ –ö–æ–Ω–≤–µ–π–µ—Ä –¥–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫

```
RF –ú–æ–¥—É–ª—å ‚Üí TLV –ø–∞–∫–µ—Ç ‚Üí tag_data_analise() ‚Üí 500-–±–∞–π—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
  ‚îú‚îÄ‚ñ∫ sql_insert() ‚Üí back_tag_data (–û–ó–£, –±—É—Ñ–µ—Ä 5—Å) ‚Üí tag_data (–¥–∏—Å–∫)
  ‚îú‚îÄ‚ñ∫ transfer_to_pc() ‚Üí TCP –∫–ª–∏–µ–Ω—Ç (–ø–æ—Ç–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
  ‚îî‚îÄ‚ñ∫ WieGand_Data_Save() ‚Üí Wiegand –≤—ã—Ö–æ–¥ (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω)
```

–ú–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏: `gettimeofday()` = **–º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**.

### –°—Ö–µ–º–∞ SQLite (`/tag_table`)

```sql
CREATE TABLE tag_data (
    tag_index    INTEGER PRIMARY KEY,  -- –∞–≤—Ç–æ-–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç
    package_len  INT,                  -- –¥–ª–∏–Ω–∞ —Å—ã—Ä–æ–≥–æ –ø–∞–∫–µ—Ç–∞
    package_data BLOB,                 -- —Å—ã—Ä–æ–π RF –ø–∞–∫–µ—Ç + –¥–æ–ø–∏—Å–∞–Ω–Ω—ã–µ TLV
    epc_len      INT,                  -- –¥–ª–∏–Ω–∞ EPC (–±–∞–π—Ç—ã)
    epc_code     BLOB,                 -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä EPC –º–µ—Ç–∫–∏
    pc           INT,                  -- Protocol Control —Å–ª–æ–≤–æ
    ant_num      INT,                  -- RF –ø–æ—Ä—Ç (0‚Äì3)
    sub_ant_num  INT,                  -- –ø–æ–∑–∏—Ü–∏—è MUX (0‚Äì1)
    tid_flag     INT,                  -- TID –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç (0/1)
    tid_len      INT,                  -- –¥–ª–∏–Ω–∞ TID –¥–∞–Ω–Ω—ã—Ö
    tid_code     BLOB,                 -- TID –¥–∞–Ω–Ω—ã–µ
    time_seconds INT,                  -- Unix timestamp (—Å–µ–∫—É–Ω–¥—ã)
    time_usec    INT                   -- –ú–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥—ã
);
-- back_tag_data: —Ç–∞ –∂–µ —Å—Ö–µ–º–∞, –≤ :memory: –ë–î, 5-—Å–µ–∫—É–Ω–¥–Ω—ã–π –±—É—Ñ–µ—Ä
```

---

## ‚ö° –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ GPI (–¥–ª—è —Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂–∞)

4 –æ–ø—Ç—Ä–æ–Ω–Ω—ã—Ö –≤—Ö–æ–¥–∞ –º–æ–≥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å/–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—é. 5-—Å–æ—Å—Ç–æ—è–Ω–Ω—ã–π FSM –Ω–∞ –∫–∞–∂–¥—ã–π GPI.

| –†–µ–∂–∏–º | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| –û—Ç–∫–ª—é—á—ë–Ω | 0 | –¢—Ä–∏–≥–≥–µ—Ä –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω |
| –ù–∞—Ä–∞—Å—Ç–∞—é—â–∏–π —Ñ—Ä–æ–Ω—Ç | 1 | LOW‚ÜíHIGH (–Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏) |
| –°–ø–∞–¥–∞—é—â–∏–π —Ñ—Ä–æ–Ω—Ç | 2 | HIGH‚ÜíLOW (–æ—Ç–ø—É—Å–∫–∞–Ω–∏–µ) |
| –£—Ä–æ–≤–µ–Ω—å HIGH | 3 | –ü–æ–∫–∞ >9–í (—Ñ–æ—Ç–æ—ç–ª–µ–º–µ–Ω—Ç/–≤–æ—Ä–æ—Ç–∞) |
| –£—Ä–æ–≤–µ–Ω—å LOW | 4 | –ü–æ–∫–∞ <8–í |
| –õ—é–±–æ–π —Ñ—Ä–æ–Ω—Ç | 5 | –û–±–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ |
| –¢–∞–π–º–µ—Ä –∑–∞–¥–µ—Ä–∂–∫–∏ | 6 | –ê–≤—Ç–æ-—Å—Ç–æ–ø —á–µ—Ä–µ–∑ N√ó10–º—Å |

```bash
# –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞ –Ω–∞ GPI-0 (–Ω–∞—Ä–∞—Å—Ç–∞—é—â–∏–π —Ñ—Ä–æ–Ω—Ç, –∞–≤—Ç–æ-—Å—Ç–æ–ø —á–µ—Ä–µ–∑ 30 —Å–µ–∫)
python3 cl7206c2_client.py 192.168.1.116 settrigger 0 1 6 3000

# –§–æ—Ç–æ–≤–æ—Ä–æ—Ç–∞: —Å—Ç–∞—Ä—Ç –ø–æ HIGH, —Å—Ç–æ–ø –ø–æ LOW
python3 cl7206c2_client.py 192.168.1.116 settrigger 1 3 4
```

---

## üî¨ –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—à–∏–≤–∫–∏ ‚Äî 100% –∑–∞–≤–µ—Ä—à—ë–Ω

80 —Ñ—É–Ω–∫—Ü–∏–π –¥–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ –Ω–µ—Å—Ç—Ä–∏–ø–Ω—É—Ç–æ–≥–æ ARM ELF –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ (310 —Å–∏–º–≤–æ–ª–æ–≤). ~4000 —Å—Ç—Ä–æ–∫ Python-–∞–Ω–∞–ª–∏–∑–∞. –í—Å—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞—Å–∫—Ä—ã—Ç–∞ ‚Äî –æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã.

| –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ | –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
|------------|-----------------|
| –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª | `main()` ‚Äî select() –Ω–∞ 10 FD, –¥–≤–∞ TCP –∫–ª–∏–µ–Ω—Ç–∞ |
| –†–æ—É—Ç–µ—Ä –∫–æ–º–∞–Ω–¥ | `GetHead()` ‚Äî 37+ –ø–æ–¥–∫–æ–º–∞–Ω–¥ |
| –ö–æ–Ω–≤–µ–π–µ—Ä –º–µ—Ç–æ–∫ | `tag_data_analise`, `sql_insert`, `transfer_to_pc` |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `data_base_init/machine/answer_machine`, 6 SQL-—Ñ—É–Ω–∫—Ü–∏–π |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | `config_set_pra`, `config_get_pra`, `pram_p_array` (16 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤) |
| –¢—Ä–∏–≥–≥–µ—Ä—ã | `Triger_State_Machine`, `Triger_Manage` + 4 —Ö–µ–ª–ø–µ—Ä–∞ |
| –°–µ—Ç—å | `tcp_recive`, `connect_manage`, `link_status_mornitor` |
| GPIO | `gpio_init`, `gpio_relay_on_ctl`, `relay_timer_start` |
| Wiegand | `WieGand_Data_Save` (EPC/TID, 300 –∑–∞–ø–∏—Å–µ–π –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä) |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ OTA | `Upgrade_Process` (CRC32 + –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è) |
| UDP –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ | `UDP_cmd_process` (—Ñ–æ—Ä–º–∞—Ç –∫–∞–¥—Ä–∞: `^[mac][–∫–æ–º–∞–Ω–¥—ã]$`) |
| Watchdog | `fifo_write` ‚Üí "reader process alive" / 2—Å ‚Üí `feed_dog` |
| Ethernet | `link_status_mornitor` ‚Äî 3 —Å–±–æ—è ‚Üí —Å–±—Ä–æ—Å PHY ‚Üí `ifconfig eth0 up` |
| –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ | `data_base_white_list_check` ‚Äî **–ó–ê–ì–õ–£–®–ö–ê** (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1) |
| –¢–∞–π–º–µ—Ä—ã | `cpu_get_lltimer`, `cpu_diff_tick` (—Ç–∏–∫–∏ 100–º—Å), `cpu_diff_us` (–º–∫—Å) |
| –ö–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª | `config_pram_init` (0x430 –±–∞–π—Ç), `config_reset` (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç MAC!) |
| –ü–∞—Ä—Å–µ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ | `protocol_data_process` ‚Äî 7-—Å–æ—Å—Ç–æ—è–Ω–Ω—ã–π FSM, –ø—Ä–æ–≤–µ—Ä–∫–∞ CRC, –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä |
| –ü–µ—Ä–µ–¥–∞—á–∞ | `transfer_to_pc` ‚Äî –∞–≤—Ç–æ-–¥–µ—Ç–µ–∫—Ç TCP/serial/RS485, —Å–±—Ä–æ—Å —Å–æ–∫–µ—Ç–∞ –ø–æ—Å–ª–µ 3 –æ—à–∏–±–æ–∫ |
| –ü—Ä–∏—ë–º | `com_recive` ‚Äî –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∞ EINTR/EAGAIN |
| –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | `client_mode_reconnect` ‚Äî –∞–≤—Ç–æ TCP —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç –∫–∞–∂–¥—ã–µ ~9—Å |
| Wiegand TX | `WieGand_Send` ‚Äî –ø–æ–±–∏—Ç–æ–≤—ã–π Wiegand-26/34/66, –∏–º–ø—É–ª—å—Å—ã 100–º–∫—Å, –º–∏–Ω. –∏–Ω—Ç–µ—Ä–≤–∞–ª 500–º—Å |
| RS485 –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ | `Rs485_data_process` + `Add_Rs485_Addr` ‚Äî –≤—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–Ω–æ–≥–æ –±–∞–π—Ç–∞ |
| TCP –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | `tcp_socket_setup` ‚Äî **keepalive: 5—Å –ø—Ä–æ—Å—Ç–æ–π + 3√ó1—Å = 8—Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ–±—Ä—ã–≤–∞** |
| Heartbeat | `heart_beat_manage` + `if_com_alive` ‚Äî —Ä–∞–∑—Ä—ã–≤ —Å–µ—Ä–∏–π–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ ‚â•4 = –æ–±—Ä—ã–≤ |
| –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏ | `net_pram_init` ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –∏–ª–∏ DHCP, MAC —Å fallback |
| –ó–∞–º–µ–Ω–∞ –ø—Ä–æ—à–∏–≤–∫–∏ | `upgrade_instead_file` ‚Äî –±—ç–∫–∞–ø –≤ `/back_app`, —Ä–µ–∂–∏–º –∑–∞–≥—Ä—É–∑–∫–∏ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞ |

### –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ        –ì–õ–ê–í–ù–´–ô –¶–ò–ö–õ SELECT()          ‚îÇ
                    ‚îÇ                                      ‚îÇ
  RF –ú–æ–¥—É–ª—å ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ rf_com_fd ‚îÄ‚îÄ‚ñ∫ protocol_data_process()  ‚îÇ
  PC Serial ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ pc_com_fd ‚îÄ‚îÄ‚ñ∫ GetHead() ‚îÄ‚î¨‚ñ∫ transfer_to_rf()
  RS-485 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ rs485_com_fd              ‚îú‚ñ∫ transfer_to_pc()
  USB Serial ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ usb_com_fd                ‚îú‚ñ∫ config_set/get_pra()
  USB Hotplug ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ usb_disk_fd               ‚îú‚ñ∫ data_base_store_record()
  UDP Broadcast ‚îÄ‚îÄ‚ñ∫ multicast_rec_fd          ‚îú‚ñ∫ WieGand_Data_Save()
  TCP –ö–ª–∏–µ–Ω—Ç 1 ‚îÄ‚îÄ‚ñ∫ tcp_connect_fd             ‚îú‚ñ∫ Upgrade_Process()
  TCP –ö–ª–∏–µ–Ω—Ç 2 ‚îÄ‚îÄ‚ñ∫ tcp_connect_back_fd        ‚îî‚ñ∫ gpio/—Ä–µ–ª–µ/—Ç—Ä–∏–≥–≥–µ—Ä—ã
  TCP –°–æ–∫–µ—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ socket_fd                   ‚îÇ
                    ‚îÇ  –ö–∞–∂–¥—ã–π —Ü–∏–∫–ª: data_base_machine(),
                    ‚îÇ  connect_manage(), link_status_mornitor(),
                    ‚îÇ  fifo_write(), –ø—Ä–æ–≤–µ—Ä–∫–∞ DHCP
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏–∑ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤)

```
main.c, protocol.c, configration.c, netapp.c, connect_man.c, recive.c,
transfer.c, data_base.c, uart.c, gpio.c, wiegand.c, triger.c, timer.c,
upgrade.c, crc32.c, usb_mornitor.c, net_link.c
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
cl7206c2-rfid/
‚îú‚îÄ‚îÄ README.md                                    ‚Üê –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ README.ru.md                                 ‚Üê –≠—Ç–æ—Ç —Ñ–∞–π–ª (—Ä—É—Å—Å–∫–∏–π)
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îú‚îÄ‚îÄ cl7206c2_client.py                       ‚Üê –ü–æ–ª–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (1118 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ cl7206c2_tool.py                         ‚Üê UDP –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ + –ø–∞—Ä—Å–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
‚îÇ   ‚îî‚îÄ‚îÄ crc16_verified.py                        ‚Üê –≠—Ç–∞–ª–æ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è CRC16
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ CL7206C2_Protocol_Spec.md                ‚Üê –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ CL7206C2_RE_Report.md                    ‚Üê –û—Ç—á—ë—Ç –æ —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–µ
‚îÇ   ‚îú‚îÄ‚îÄ config_pram_analysis.md                  ‚Üê –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ CL7206C4_User_Manual.pdf                 ‚Üê –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–∞–Ω—É–∞–ª –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
‚îî‚îÄ‚îÄ firmware_analysis/
    ‚îú‚îÄ‚îÄ architecture.py                          ‚Üê –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ—à–∏–≤–∫–∏
    ‚îú‚îÄ‚îÄ tag_data_struct.py                       ‚Üê –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ—Ç–∫–∏ + SQLite + –ø–∞—Ä—Å–µ—Ä—ã
    ‚îú‚îÄ‚îÄ trigger_system.py                        ‚Üê FSM —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ + –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥–æ–≤
    ‚îú‚îÄ‚îÄ pram_p_array_decode.py                   ‚Üê –î–µ–∫–æ–¥–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    ‚îú‚îÄ‚îÄ remaining_subsystems.py                  ‚Üê –°–µ—Ç—å, GPIO, –ë–î, UDP –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã
    ‚îú‚îÄ‚îÄ utility_functions.py                     ‚Üê ioctl –∫–∞—Ä—Ç–∞ GPIO, —Ç–∞–π–º–µ—Ä—ã, –∫–æ–Ω—Ñ–∏–≥, –ø–∞—Ä—Å–µ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
    ‚îú‚îÄ‚îÄ final_functions.py                       ‚Üê Wiegand TX, RS485 –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ, TCP keepalive, OTA
    ‚îî‚îÄ‚îÄ CL7206C2_strings.txt                     ‚Üê –í—Å–µ 1206 –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
```

---

## ‚è± –ë—É–¥—É—â–µ–µ: –•—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂ –≤–µ–ª–æ–≥–æ–Ω–æ–∫

```
  [–°–¢–ê–†–¢]  9–¥–ë–∏ ‚îÄ‚îÄ‚ñ∫  CL7206C2  ‚óÑ‚îÄ‚îÄ 9–¥–ë–∏  [–§–ò–ù–ò–®]
  (–ü–æ—Ä—Ç 0)            ‚îÇ TCP/9090           (–ü–æ—Ä—Ç 1)
                      ‚ñº
                –°–µ—Ä–≤–µ—Ä —Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂–∞
                ‚Ä¢ ant_num ‚Üí –°–¢–ê–†–¢ / –§–ò–ù–ò–®
                ‚Ä¢ –ú–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –º–∫—Å (gettimeofday)
                ‚Ä¢ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–∫ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π 5—Å –±—É—Ñ–µ—Ä)
                ‚Ä¢ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
                ‚Ä¢ GPI —Ç—Ä–∏–≥–≥–µ—Ä ‚Üí –∞–≤—Ç–æ —Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏
                ‚Ä¢ GPO —Ä–µ–ª–µ ‚Üí –≤–æ—Ä–æ—Ç–∞ / –∑—É–º–º–µ—Ä / —Å–≤–µ—Ç
                ‚Ä¢ –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ ‚Üí –∞–≤—Ç–æ-—Ä–µ–ª–µ –ø—Ä–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ–π –º–µ—Ç–∫–µ
```

**–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ –ø—Ä–æ—à–∏–≤–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ 100%. –û–∂–∏–¥–∞–µ–º –∞–Ω—Ç–µ–Ω–Ω—ã –∏ –º–µ—Ç–∫–∏. ‚úÖ

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂–∞:**
- **–ù–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –≤ –ø—Ä–æ—à–∏–≤–∫–µ** ‚Äî RF –º–æ–¥—É–ª—å —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É–±—Å–µ–∫—É–Ω–¥–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä—ã; –∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ EPC+–∞–Ω—Ç–µ–Ω–Ω–∞
- **TCP keepalive 8—Å** ‚Äî –æ–±—Ä—ã–≤ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –∑–∞ 5—Å –ø—Ä–æ—Å—Ç–æ—è + 3√ó1—Å –ø—Ä–æ–± (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ, —Ö–æ—Ä–æ—à–æ –¥–ª—è —Ç–∞–π–º–∏–Ω–≥–∞)
- **–ê–≤—Ç–æ-–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ~17—Å** ‚Äî 8—Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ + 9—Å —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç = –±—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–ë—ç–∫–∞–ø –ø—Ä–æ—à–∏–≤–∫–∏** ‚Äî OTA —Å–æ–∑–¥–∞—ë—Ç `/back_app`, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ telnet –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

---

## üìú –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞

| –î–∞—Ç–∞ | –≠—Ç–∞–ø |
|------|------|
| 2026-02-07 | –ü–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ telnet, –æ–±–∑–æ—Ä —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã |
| 2026-02-07 | –ê–Ω–∞–ª–∏–∑ config_pram, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ TFTP |
| 2026-02-08 | –ë–∏–Ω–∞—Ä–Ω–∏–∫ –ù–ï —Å—Ç—Ä–∏–ø–Ω—É—Ç ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã 310 —Å–∏–º–≤–æ–ª–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π |
| 2026-02-08 | CRC16 –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω (poly 0x8005), —Å–æ–∑–¥–∞–Ω Python-–∫–ª–∏–µ–Ω—Ç |
| 2026-02-08 | protocol_cmd_hdl (GetHead): –≤—Å–µ 37+ –∫–æ–º–∞–Ω–¥ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã |
| 2026-02-08 | tag_data_analise + sql_insert: –ø–æ–ª–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –¥–∞–Ω–Ω—ã—Ö |
| 2026-02-08 | pram_p_array: 16 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã |
| 2026-02-08 | –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤: 5-—Å–æ—Å—Ç–æ—è–Ω–Ω—ã–π FSM, 6 —Ä–µ–∂–∏–º–æ–≤ |
| 2026-02-08 | main(): –ø–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ select(), 10 FD |
| 2026-02-08 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –û–ó–£ –±—É—Ñ–µ—Ä + –¥–∏—Å–∫, –ø–∞–≥–∏–Ω–∞—Ü–∏—è answer_machine |
| 2026-02-08 | GPIO, Wiegand, OTA –ø—Ä–æ—à–∏–≤–∫–∏, UDP –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã |
| 2026-02-08 | **100% –ø–æ–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏ ‚Äî 80 —Ñ—É–Ω–∫—Ü–∏–π, 4000+ —Å—Ç—Ä–æ–∫** |

---

## üîó –°—Å—ã–ª–∫–∏

- [FCC Filing](https://fccid.io/2AKAGCLOUIOTCL7206C) ‚Äî –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ñ–æ—Ç–æ, –æ—Ç—á—ë—Ç—ã –∏—Å–ø—ã—Ç–∞–Ω–∏–π
- [Hopeland](http://www.hopelandrfid.com) ‚Äî –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (Shenzhen Hopeland Technologies Co., Ltd)
- –ö–æ–Ω—Ç–∞–∫—Ç—ã: support@hopelandrfid.com | +86-755-36901035

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–ü—Ä–æ–µ–∫—Ç –¥–ª—è **–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∏ –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**. –†–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏ –∞–≤—Ç–æ—Ä–∞ —Å –ø–æ–º–æ—â—å—é Ghidra. –ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π SDK –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è.
